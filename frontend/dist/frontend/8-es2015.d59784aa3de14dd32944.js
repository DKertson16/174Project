(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{vtv3:function(l,n,u){"use strict";u.r(n);var o=u("8Y7J");class t{}var e=u("pMnS"),i=u("SVse"),r=u("bujt"),a=u("Fwaw"),s=u("5GAg"),g=u("omvX");const c="student",b="professor",d="admin",p="invalid",v="sections-page",h="admin-page",f="sections-page",m="survey-page";class S{constructor(l,n,u,o,t){this._zone=l,this.dataTransferService=n,this.stateService=u,this.cookieService=o,this.router=t,this.googleLoginButtonId="google-login-button",this.validLogin=!0,this.noServerError=!0,this.onGoogleLoginSuccess=l=>{this._zone.run(()=>{this.stateService.login(l),this.dataTransferService.redirect().subscribe(l=>{this.validLogin=!0,this.noServerError=!0,this.cookieService.set("userType",l.type);let n=this.redirectURLMap(l.type);if(n!==m)return this.router.navigate([n]),!0;console.log("User not on list of approved users"),this.validLogin=!1},l=>{console.log("Invalid login error"),this.noServerError=!1})})},this.onGoogleLoginFailure=l=>{this._zone.run(()=>{console.log("User failure")})}}ngOnInit(){!0===this.stateService.justLoggedOut&&(this.stateService.justLoggedOut=!1,location.reload())}ngAfterViewInit(){gapi.signin2.render(this.googleLoginButtonId,{onSuccess:this.onGoogleLoginSuccess,scope:"profile",theme:"dark"})}redirectURLMap(l){return l==c?v:l==d?h:l==b?f:l==p?m:void 0}signOut(){this.stateService.logout(),this.validLogin=!1}}var I=u("YhYe"),w=u("Ebwu"),k=u("ZNab"),L=u("iInd"),M=o.pb({encapsulation:0,styles:[[".login-wrapper[_ngcontent-%COMP%]{width:100vw;position:relative}.login[_ngcontent-%COMP%]{top:30vh;width:40%;margin:auto;position:relative}.main-application[_ngcontent-%COMP%]{margin:auto;width:90%}.login-text[_ngcontent-%COMP%]{font-size:1.2rem;font-family:Segoe-UI}.centered[_ngcontent-%COMP%]{margin:auto!important;width:90%!important;text-align:center}[_nghost-%COMP%]     .abcRioButton{width:5rem;margin:0 auto}"]],data:{}});function B(l){return o.Mb(0,[(l()(),o.rb(0,0,null,null,2,"div",[["class","centered login-text"]],null,null,null,null,null)),(l()(),o.rb(1,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),o.Kb(-1,null,["Please log in to you SCU email below"]))],null,null)}function y(l){return o.Mb(0,[(l()(),o.rb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),o.rb(1,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),o.Kb(2,null,["Logged in with ","!"])),(l()(),o.rb(3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),o.Kb(-1,null,["Redirecting shortly..."]))],null,(function(l,n){l(n,2,0,n.component.cookieService.get("userEmail"))}))}function K(l){return o.Mb(0,[(l()(),o.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),o.rb(1,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),o.Kb(-1,null,["Invalid login, try logging out and making sure you are logged in with your SCU account."]))],null,null)}function O(l){return o.Mb(0,[(l()(),o.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),o.rb(1,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),o.Kb(-1,null,["Connection to server failed."]))],null,null)}function _(l){return o.Mb(0,[(l()(),o.rb(0,0,null,null,9,"div",[["class","centered login-text"]],null,null,null,null,null)),(l()(),o.gb(16777216,null,null,1,null,y)),o.qb(2,16384,null,0,i.k,[o.N,o.K],{ngIf:[0,"ngIf"]},null),(l()(),o.gb(16777216,null,null,1,null,K)),o.qb(4,16384,null,0,i.k,[o.N,o.K],{ngIf:[0,"ngIf"]},null),(l()(),o.gb(16777216,null,null,1,null,O)),o.qb(6,16384,null,0,i.k,[o.N,o.K],{ngIf:[0,"ngIf"]},null),(l()(),o.rb(7,0,null,null,2,"button",[["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,n,u){var o=!0;return"click"===n&&(o=!1!==l.component.signOut()&&o),o}),r.b,r.a)),o.qb(8,180224,null,0,a.b,[o.k,s.e,[2,g.a]],null,null),(l()(),o.Kb(-1,0,["Sign out"]))],(function(l,n){var u=n.component;l(n,2,0,u.validLogin),l(n,4,0,!u.validLogin),l(n,6,0,!u.noServerError)}),(function(l,n){l(n,7,0,o.Db(n,8).disabled||null,"NoopAnimations"===o.Db(n,8)._animationMode)}))}function U(l){return o.Mb(0,[(l()(),o.rb(0,0,null,null,6,"div",[["class","login-wrapper"]],null,null,null,null,null)),(l()(),o.rb(1,0,null,null,5,"div",[["class","login"]],null,null,null,null,null)),(l()(),o.gb(16777216,null,null,1,null,B)),o.qb(3,16384,null,0,i.k,[o.N,o.K],{ngIf:[0,"ngIf"]},null),(l()(),o.rb(4,0,null,null,0,"div",[["class","g-signin2"]],[[8,"id",0]],null,null,null,null)),(l()(),o.gb(16777216,null,null,1,null,_)),o.qb(6,16384,null,0,i.k,[o.N,o.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,3,0,!u.cookieService.get("loggedInUser")),l(n,6,0,u.cookieService.get("loggedInUser"))}),(function(l,n){l(n,4,0,o.vb(1,"",n.component.googleLoginButtonId,""))}))}function C(l){return o.Mb(0,[(l()(),o.rb(0,0,null,null,1,"app-login-homepage",[],null,null,null,U,M)),o.qb(1,4308992,null,0,S,[o.x,I.a,w.a,k.a,L.k],null,null)],(function(l,n){l(n,1,0)}),null)}var P=o.nb("app-login-homepage",S,C,{},{},[]);class q{}var N=u("IP0z"),E=u("Xd0L"),x=u("cUpR"),j=u("/HVE");u.d(n,"LoginPageModuleNgFactory",(function(){return z}));var z=o.ob(t,[],(function(l){return o.Ab([o.Bb(512,o.j,o.Z,[[8,[e.a,P]],[3,o.j],o.v]),o.Bb(4608,i.m,i.l,[o.s,[2,i.x]]),o.Bb(1073742336,i.b,i.b,[]),o.Bb(1073742336,L.l,L.l,[[2,L.q],[2,L.k]]),o.Bb(1073742336,q,q,[]),o.Bb(1073742336,N.a,N.a,[]),o.Bb(1073742336,E.i,E.i,[[2,E.c],[2,x.f]]),o.Bb(1073742336,j.b,j.b,[]),o.Bb(1073742336,E.l,E.l,[]),o.Bb(1073742336,a.c,a.c,[]),o.Bb(1073742336,t,t,[]),o.Bb(1024,L.i,(function(){return[[{path:"",component:S}]]}),[])])}))}}]);